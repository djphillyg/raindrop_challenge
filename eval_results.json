{
  "timestamp": "2025-11-05T09:31:42.688062",
  "summary": {
    "total": 21,
    "passed": 21,
    "failed": 0,
    "pass_rate": 1.0
  },
  "by_type": {
    "Grammar Syntax": {
      "passed": 7,
      "failed": 0,
      "pass_rate": 1.0
    },
    "Semantic Correctness": {
      "passed": 7,
      "failed": 0,
      "pass_rate": 1.0
    },
    "Result Accuracy": {
      "passed": 7,
      "failed": 0,
      "pass_rate": 1.0
    }
  },
  "details": [
    {
      "suite_name": "Grammar Syntax",
      "passed": 7,
      "total": 7,
      "pass_rate": 1.0,
      "results": [
        {
          "description": "Basic SELECT all columns",
          "query": "Show me all my activities",
          "generated_sql": "SELECT * FROM garmin_active_cal_data ORDER BY timestamp_day DESC",
          "passed": true,
          "assertions": [
            {
              "type": "sql_parseable",
              "passed": true,
              "message": "SQL parseable: SELECT * FROM garmin_active_cal_data ORDER BY timestamp_day DESC..."
            },
            {
              "type": "sql_executes",
              "passed": true,
              "message": "SQL executed successfully"
            },
            {
              "type": "valid_table_name",
              "passed": true,
              "message": "SQL references correct table"
            },
            {
              "type": "valid_columns",
              "passed": true,
              "message": "SQL uses valid columns"
            }
          ],
          "passed_assertions": 4,
          "total_assertions": 4
        },
        {
          "description": "SELECT with specific columns",
          "query": "Show me timestamps and calories",
          "generated_sql": "SELECT timestamp_day, active_calories FROM garmin_active_cal_data",
          "passed": true,
          "assertions": [
            {
              "type": "sql_parseable",
              "passed": true,
              "message": "SQL parseable: SELECT timestamp_day, active_calories FROM garmin_active_cal_data..."
            },
            {
              "type": "sql_executes",
              "passed": true,
              "message": "SQL executed successfully"
            },
            {
              "type": "valid_table_name",
              "passed": true,
              "message": "SQL references correct table"
            },
            {
              "type": "correct_columns",
              "passed": true,
              "message": "SQL contains expected columns: timestamp_day, active_calories"
            }
          ],
          "passed_assertions": 4,
          "total_assertions": 4
        },
        {
          "description": "SUM aggregation",
          "query": "What's the total of all my active calories?",
          "generated_sql": "SELECT SUM(active_calories) FROM garmin_active_cal_data",
          "passed": true,
          "assertions": [
            {
              "type": "sql_parseable",
              "passed": true,
              "message": "SQL parseable: SELECT SUM(active_calories) FROM garmin_active_cal_data..."
            },
            {
              "type": "sql_executes",
              "passed": true,
              "message": "SQL executed successfully"
            },
            {
              "type": "valid_table_name",
              "passed": true,
              "message": "SQL references correct table"
            },
            {
              "type": "correct_aggregation",
              "passed": true,
              "message": "SQL correctly uses SUM aggregation"
            }
          ],
          "passed_assertions": 4,
          "total_assertions": 4
        },
        {
          "description": "AVG aggregation",
          "query": "What's my average distance?",
          "generated_sql": "SELECT AVG(distance) FROM garmin_active_cal_data",
          "passed": true,
          "assertions": [
            {
              "type": "sql_parseable",
              "passed": true,
              "message": "SQL parseable: SELECT AVG(distance) FROM garmin_active_cal_data..."
            },
            {
              "type": "sql_executes",
              "passed": true,
              "message": "SQL executed successfully"
            },
            {
              "type": "correct_aggregation",
              "passed": true,
              "message": "SQL correctly uses AVG aggregation"
            }
          ],
          "passed_assertions": 3,
          "total_assertions": 3
        },
        {
          "description": "WHERE clause with single condition",
          "query": "Show activities where calories are greater than 500",
          "generated_sql": "SELECT timestamp_day, active_calories, active_time, distance FROM garmin_active_cal_data WHERE active_calories > 500",
          "passed": true,
          "assertions": [
            {
              "type": "sql_parseable",
              "passed": true,
              "message": "SQL parseable: SELECT timestamp_day, active_calories, active_time, distance FROM garmin_active_..."
            },
            {
              "type": "sql_executes",
              "passed": true,
              "message": "SQL executed successfully"
            },
            {
              "type": "valid_table_name",
              "passed": true,
              "message": "SQL references correct table"
            }
          ],
          "passed_assertions": 3,
          "total_assertions": 3
        },
        {
          "description": "WHERE clause with multiple AND conditions",
          "query": "Show activities where calories > 500 AND steps > 10000",
          "generated_sql": "SELECT * FROM garmin_active_cal_data WHERE active_calories > 500 AND steps > 10000",
          "passed": true,
          "assertions": [
            {
              "type": "sql_parseable",
              "passed": true,
              "message": "SQL parseable: SELECT * FROM garmin_active_cal_data WHERE active_calories > 500 AND steps > 100..."
            },
            {
              "type": "sql_executes",
              "passed": true,
              "message": "SQL executed successfully"
            },
            {
              "type": "valid_table_name",
              "passed": true,
              "message": "SQL references correct table"
            }
          ],
          "passed_assertions": 3,
          "total_assertions": 3
        },
        {
          "description": "ORDER BY with DESC",
          "query": "Show my activities ordered by highest calories",
          "generated_sql": "SELECT * FROM garmin_active_cal_data ORDER BY active_calories DESC",
          "passed": true,
          "assertions": [
            {
              "type": "sql_parseable",
              "passed": true,
              "message": "SQL parseable: SELECT * FROM garmin_active_cal_data ORDER BY active_calories DESC..."
            },
            {
              "type": "sql_executes",
              "passed": true,
              "message": "SQL executed successfully"
            },
            {
              "type": "correct_sort",
              "passed": true,
              "message": "SQL sorts with DESC"
            }
          ],
          "passed_assertions": 3,
          "total_assertions": 3
        }
      ]
    },
    {
      "suite_name": "Semantic Correctness",
      "passed": 7,
      "total": 7,
      "pass_rate": 1.0,
      "results": [
        {
          "description": "Total should use SUM not COUNT",
          "query": "What's the total calories burned?",
          "generated_sql": "SELECT SUM(active_calories) FROM garmin_active_cal_data",
          "passed": true,
          "assertions": [
            {
              "type": "sql_executes",
              "passed": true,
              "message": "SQL executed successfully"
            },
            {
              "type": "correct_aggregation",
              "passed": true,
              "message": "SQL correctly uses SUM aggregation"
            },
            {
              "type": "correct_columns",
              "passed": true,
              "message": "SQL contains expected columns: active_calories"
            }
          ],
          "passed_assertions": 3,
          "total_assertions": 3
        },
        {
          "description": "Average should use AVG aggregation",
          "query": "What's the average distance of my activities?",
          "generated_sql": "SELECT AVG(distance) FROM garmin_active_cal_data",
          "passed": true,
          "assertions": [
            {
              "type": "sql_executes",
              "passed": true,
              "message": "SQL executed successfully"
            },
            {
              "type": "correct_aggregation",
              "passed": true,
              "message": "SQL correctly uses AVG aggregation"
            },
            {
              "type": "correct_columns",
              "passed": true,
              "message": "SQL contains expected columns: distance"
            }
          ],
          "passed_assertions": 3,
          "total_assertions": 3
        },
        {
          "description": "Count should use COUNT aggregation",
          "query": "How many activities do I have?",
          "generated_sql": "SELECT COUNT(*) FROM garmin_active_cal_data",
          "passed": true,
          "assertions": [
            {
              "type": "sql_executes",
              "passed": true,
              "message": "SQL executed successfully"
            },
            {
              "type": "correct_aggregation",
              "passed": true,
              "message": "SQL correctly uses COUNT aggregation"
            }
          ],
          "passed_assertions": 2,
          "total_assertions": 2
        },
        {
          "description": "Highest should use ORDER BY DESC",
          "query": "What's my highest calorie activity?",
          "generated_sql": "SELECT * FROM garmin_active_cal_data ORDER BY active_calories DESC LIMIT 1",
          "passed": true,
          "assertions": [
            {
              "type": "sql_executes",
              "passed": true,
              "message": "SQL executed successfully"
            },
            {
              "type": "correct_sort",
              "passed": true,
              "message": "SQL sorts with DESC"
            },
            {
              "type": "correct_columns",
              "passed": true,
              "message": "SQL contains expected columns: active_calories"
            }
          ],
          "passed_assertions": 3,
          "total_assertions": 3
        },
        {
          "description": "Lowest should use ORDER BY ASC",
          "query": "What's my lowest step count activity?",
          "generated_sql": "SELECT activity_type, steps, timestamp_day FROM garmin_active_cal_data ORDER BY steps ASC LIMIT 1",
          "passed": true,
          "assertions": [
            {
              "type": "sql_executes",
              "passed": true,
              "message": "SQL executed successfully"
            },
            {
              "type": "correct_sort",
              "passed": true,
              "message": "SQL sorts with ASC"
            },
            {
              "type": "correct_columns",
              "passed": true,
              "message": "SQL contains expected columns: steps"
            }
          ],
          "passed_assertions": 3,
          "total_assertions": 3
        },
        {
          "description": "Greater than filter semantic match",
          "query": "Show activities with more than 1000 calories",
          "generated_sql": "SELECT * FROM garmin_active_cal_data WHERE active_calories > 1000",
          "passed": true,
          "assertions": [
            {
              "type": "sql_executes",
              "passed": true,
              "message": "SQL executed successfully"
            },
            {
              "type": "correct_where_clause",
              "passed": true,
              "message": "WHERE clause contains expected conditions"
            },
            {
              "type": "correct_columns",
              "passed": true,
              "message": "SQL contains expected columns: active_calories"
            }
          ],
          "passed_assertions": 3,
          "total_assertions": 3
        },
        {
          "description": "Distance column for distance queries",
          "query": "What's my total distance?",
          "generated_sql": "SELECT SUM(distance) FROM garmin_active_cal_data",
          "passed": true,
          "assertions": [
            {
              "type": "sql_executes",
              "passed": true,
              "message": "SQL executed successfully"
            },
            {
              "type": "correct_aggregation",
              "passed": true,
              "message": "SQL correctly uses SUM aggregation"
            },
            {
              "type": "correct_columns",
              "passed": true,
              "message": "SQL contains expected columns: distance"
            }
          ],
          "passed_assertions": 3,
          "total_assertions": 3
        }
      ]
    },
    {
      "suite_name": "Result Accuracy",
      "passed": 7,
      "total": 7,
      "pass_rate": 1.0,
      "results": [
        {
          "description": "Aggregation should return single row",
          "query": "What's the sum of all calories?",
          "generated_sql": "SELECT SUM(active_calories) FROM garmin_active_cal_data",
          "passed": true,
          "assertions": [
            {
              "type": "sql_executes",
              "passed": true,
              "message": "SQL executed successfully"
            },
            {
              "type": "non_empty_results",
              "passed": true,
              "message": "Results contain 1 row(s)"
            },
            {
              "type": "result_count",
              "passed": true,
              "message": "Correct row count: 1"
            }
          ],
          "passed_assertions": 3,
          "total_assertions": 3
        },
        {
          "description": "Total calories should be positive",
          "query": "Sum all my active calories",
          "generated_sql": "SELECT SUM(active_calories) FROM garmin_active_cal_data",
          "passed": true,
          "assertions": [
            {
              "type": "sql_executes",
              "passed": true,
              "message": "SQL executed successfully"
            },
            {
              "type": "non_empty_results",
              "passed": true,
              "message": "Results contain 1 row(s)"
            },
            {
              "type": "value_ranges",
              "passed": true,
              "message": "Value 445522.0 is within range"
            }
          ],
          "passed_assertions": 3,
          "total_assertions": 3
        },
        {
          "description": "Average distance should be reasonable",
          "query": "What's my average distance?",
          "generated_sql": "SELECT AVG(distance) FROM garmin_active_cal_data",
          "passed": true,
          "assertions": [
            {
              "type": "sql_executes",
              "passed": true,
              "message": "SQL executed successfully"
            },
            {
              "type": "non_empty_results",
              "passed": true,
              "message": "Results contain 1 row(s)"
            },
            {
              "type": "value_ranges",
              "passed": true,
              "message": "Value 5702.992404115996 is within range"
            }
          ],
          "passed_assertions": 3,
          "total_assertions": 3
        },
        {
          "description": "COUNT should return non-negative integer",
          "query": "How many activities do I have?",
          "generated_sql": "SELECT COUNT(*) FROM garmin_active_cal_data",
          "passed": true,
          "assertions": [
            {
              "type": "sql_executes",
              "passed": true,
              "message": "SQL executed successfully"
            },
            {
              "type": "non_empty_results",
              "passed": true,
              "message": "Results contain 1 row(s)"
            },
            {
              "type": "value_ranges",
              "passed": true,
              "message": "Value 1069.0 is within range"
            }
          ],
          "passed_assertions": 3,
          "total_assertions": 3
        },
        {
          "description": "LIMIT should constrain result count",
          "query": "Show me 5 activities",
          "generated_sql": "SELECT * FROM garmin_active_cal_data ORDER BY timestamp_day DESC LIMIT 5",
          "passed": true,
          "assertions": [
            {
              "type": "sql_executes",
              "passed": true,
              "message": "SQL executed successfully"
            },
            {
              "type": "non_empty_results",
              "passed": true,
              "message": "Results contain 5 row(s)"
            }
          ],
          "passed_assertions": 2,
          "total_assertions": 2
        },
        {
          "description": "Impossible condition returns empty",
          "query": "Show activities with calories less than 0",
          "generated_sql": "SELECT * FROM garmin_active_cal_data WHERE active_calories < 0",
          "passed": true,
          "assertions": [
            {
              "type": "sql_executes",
              "passed": true,
              "message": "SQL executed successfully"
            },
            {
              "type": "empty_results",
              "passed": true,
              "message": "Results correctly empty"
            }
          ],
          "passed_assertions": 2,
          "total_assertions": 2
        },
        {
          "description": "MAX returns single value",
          "query": "What's my maximum step count?",
          "generated_sql": "SELECT MAX(steps) FROM garmin_active_cal_data",
          "passed": true,
          "assertions": [
            {
              "type": "sql_executes",
              "passed": true,
              "message": "SQL executed successfully"
            },
            {
              "type": "non_empty_results",
              "passed": true,
              "message": "Results contain 1 row(s)"
            },
            {
              "type": "result_count",
              "passed": true,
              "message": "Correct row count: 1"
            },
            {
              "type": "value_ranges",
              "passed": true,
              "message": "Value 47370.0 is within range"
            }
          ],
          "passed_assertions": 4,
          "total_assertions": 4
        }
      ]
    }
  ]
}